//The commented out code can be run using the repository https://github.com/rouseja/ModCrvToEC
//Or we can pre-load the map from the saved code
//note that for some reason the code is random so you have to set the random seed

SetSeed(1258402571,21268947);
AttachSpec("../Modular/Modular.spec"); 
Attach("ModCrvToEC.m"); 
N := 36; 
gens := [[0, 1, 35, 28], [0, 13, 31, 20], [1, 17, 10, 27], [2, 5, 5, 18], [2 ,23, 23, 27], [4, 1, 23, 24]];
ModEC := InitializeModEC(N,gens);
Iso, Mx := EllipticCurveQuoCandidates(ModEC); 
map1 := FindMapsToEC(ModEC, [[ 0, 0, 0, -27, -918 ]], [1]); 
psi := map1[1];
map2 := FindMapsToEC(ModEC,  [ 0, 0, 0, -3, -14 ] , [1]);
psi2 := map2[1];


//Commented out code below is in case you want to compare with the random seed version above, and for posterity in case anything breaks. Better to load the Mayle-Rouse code.

// P5<x,y,z,w,t,u> := ProjectiveSpace(Rationals(), 5);
// Xeqns := [
// -x^2 - 2*x*y - y^2 - x*z - y*z + z^2 - z*w - 2*x*t - 2*y*t - 2*z*t + w*t - t^2 - x*u - y*u - 2*t*u,
// 5*x^2 + y^2 - x*z - y*z + z^2 + x*w + 2*z*w + w^2 - x*t + z*t - w*t - 3*t^2 + 2*x*u + y*u + z*u + w*u + t*u - u^2,
// -2*x^2 + 2*y^2 - 7*x*z + 4*y*z + z^2 + z*w + x*t + y*t + 2*z*t - t^2 - 2*x*u + y*u + w*u - 2*u^2,
// -2*x^2 - x*y + y^2 - x*z + 2*y*z + 4*z^2 + x*w + y*w + 3*z*w + x*t + y*t - 4*z*t - 2*w*t + 2*t^2 - 4*x*u - y*u + w*u - 2*u^2,
// -2*x^2 + 2*x*y - 2*y^2 + x*z + 3*z^2 - 3*x*w + 2*y*w + z*w - w^2 + 3*x*t - 2*y*t - 2*z*t + w*t + 2*t^2 - 4*y*u + 2*z*u + 2*w*u - 4*t*u - u^2,
// x*y + y^2 - 7*x*z - 2*y*z - 4*z^2 - 5*x*w - 2*y*w - 2*z*w + w^2 + 4*x*t + y*t - 2*z*t - 2*w*t + x*u + y*u + 2*z*u - 2*w*u
// ];
// X := Curve(P5, Xeqns);
// E := EllipticCurve([ 0, 0, 0, -27, -918 ]);
// psi_eqns := [
// -3858*w^3 - 48768*x*w*t + 36876*y*w*t - 18007*z*w*t - 9325*w^2*t + 107898*x*t^2 - 9132*y*t^2 + 17449*z*t^2 + 24620*w*t^2 - 26842*t^3 + 76599*x*w*u - 1326*y*w*u - 19799*z*w*u - 19208*w^2*u - 89313*x*t*u - 32610*y*t*u + 144597*z*t*u + 75019*w*t*u - 57320*t^2*u + 50097*x*u^2 + 27264*y*u^2 - 46306*z*u^2 + 6843*w*u^2 + 7957*t*u^2 + 18905*u^3,
// -7458*w^3 - 110058*x*w*t + 98424*y*w*t + 66436*z*w*t - 10538*w^2*t + 184794*x*t^2 - 93726*y*t^2 - 323898*z*t^2 - 6640*w*t^2 + 29750*t^3 + 11904*x*w*u + 3096*y*w*u - 62278*z*w*u - 25570*w^2*u - 102066*x*t*u - 29652*y*t*u + 247690*z*t*u + 92544*w*t*u - 187258*t^2*u + 91224*x*u^2 + 22434*y*u^2 + 15752*z*u^2 + 24838*w*u^2 + 45128*t*u^2 + 11052*u^3,
// -546*w^3 - 7814*x*w*t + 6864*y*w*t - 5285*z*w*t - 1583*w^2*t + 13178*x*t^2 - 5240*y*t^2 - 14895*z*t^2 + 750*w*t^2 + 542*t^3 + 3663*x*w*u + 114*y*w*u - 4623*z*w*u - 3998*w^2*u - 12531*x*t*u - 9614*y*t*u + 21675*z*t*u + 13757*w*t*u - 15754*t^2*u + 8267*x*u^2 + 4400*y*u^2 - 6992*z*u^2 + 3297*w*u^2 - 4913*t*u^2 + 2593*u^3
// ];
// psi := map<X->E |psi_eqns>;
Xlmfdb := [x^2+x*y-y^2-2*x*z-2*y*z+z^2+2*x*w+y*w-2*z*w+w^2-y*t-z*t+x*u-2*z*u+w*u, 5*x^2-x*y+y^2+x*z-y*z-3*z^2-y*w+w^2-x*t-2*y*t-z*t+t^2+2*x*u+y*u-z*u+w*u-t*u-u^2, 6*x*y+3*y^2+6*y*z+3*z^2-x*w-2*y*w-w^2-x*t-2*y*t-2*z*t-w*t-2*x*u-2*w*u, 2*x^2+x*y-4*y^2+x*z-4*y*z-2*z^2+x*w-2*y*w+z*w-w^2+x*t+3*y*t+2*z*t+w*t+4*x*u+w*u+t*u+2*u^2, 2*x^2-x*y-3*y^2+3*x*z-2*y*z-2*z^2-2*x*w-2*z*w+2*w^2-3*x*t+y*t-z*t+2*w*t+t^2-2*y*u-4*z*u+4*w*u+2*t*u+u^2, 7*x*y+4*y^2+4*x*z-2*y*z-x*w+2*y*w+z*w-w^2-5*x*t-2*y*t+2*z*t-2*w*t-t^2-x*u-2*y*u-w*u-2*t*u];
jeqns := [12062945324338527772113753898031127774450041552123527752980348755*x*w*t^10-7637838781507887478792935071125437058495604233455338134180222548*x*w*t^9*u-46330324860641176007012531153178999990980543026513567095198728186*x*w*t^8*u^2-37031344567207696819439319543996487559338947850496082223569315712*x*w*t^7*u^3-201787555821123569769598395548272067221923851076636671786413085488*x*w*t^6*u^4-8235887474295018590872074898054134981771694558048214713255893152*x*w*t^5*u^5-38788848123756988240781322198442748426410258036876361207217996992*x*w*t^4*u^6+46688706177503733392600625823931399068899325688696006507564104704*x*w*t^3*u^7-128650706425865589728911328701772020756154281297618498096783498496*x*w*t^2*u^8-57577055728051785197423417938693393325650149932561322903567903232*x*w*t*u^9-38958090978956540580447854768744636831458678036138186022839659008*x*w*u^10+27899483131792197670788811112517899160385078358952332861681906530*x*t^11+71130815727068449039891088946141520745230964591243793398921477132*x*t^10*u-21309297911606004461736745874640039856642767939985977099044206838*x*t^9*u^2-52664227690787206584497544356766757137514242251081154189935627216*x*t^8*u^3-87041993078653922105679686640246937429690599205233724138356938496*x*t^7*u^4-45985241576526995406890118328269247374754790149415246146491368224*x*t^6*u^5+341029900407690123241186394934218567285619709306253283582510963840*x*t^5*u^6+345750809608172070061763093826548181439473116219093362903717743296*x*t^4*u^7+260121684872003532080274525756394144958715169897991440206534856960*x*t^3*u^8-23427244981004896096019849333108507453644507899619273053681476096*x*t^2*u^9-100762788887292906909388636250320017104091165559545483725511049216*x*t*u^10-90137138795914670923185485782002809302684697761484470031508262912*x*u^11-22094737155759960800237860686847028004749998886602831421301563995*y*w*t^10-70554150115365928593265769574316899897460307590177322696744026098*y*w*t^9*u+28416548220512380896253008289185670282186323695850218035505116484*y*w*t^8*u^2+21218195931676847616422278049527393820193664137448129422654217408*y*w*t^7*u^3+191863969681530412972384539391832429632282969440268469826702157552*y*w*t^6*u^4+75406183325746410867599632746023267691201325885476182915616530528*y*w*t^5*u^5+45523897798175458859289542097438228527740978505715388619488117568*y*w*t^4*u^6+103446191290277025898345385310408382451995662549706315074627581184*y*w*t^3*u^7+28543055310529630835619023427140207181000056869267438243729919744*y*w*t^2*u^8-105850053243425663752767151889345855292058587281011980506997358592*y*w*t*u^9-32069644845867035876657577986716410398695535568507829810108123648*y*w*u^10+17375073470530515925113099025280690055751198730789511030527142650*y*t^11+56014131636425842966313834337782246313718050879016059021637214670*y*t^10*u+54354862531203179474641708037838129353582065623256936850894843264*y*t^9*u^2-33077317015513428013249549057204371457536103674533875822643676272*y*t^8*u^3+192480036169340091281387457073095607326124603527657208520834488336*y*t^7*u^4+187148622537927153705735291555607206425679591252545154336518464064*y*t^6*u^5+682883968523631778212678964045782879479676781154638649429569483136*y*t^5*u^6+406047214497147618399396571420309481278284411197611053896906096256*y*t^4*u^7+274840896360173506265493918711954668523694509257417721500825823488*y*t^3*u^8-65999621914176470045394488425635863716887885437716526193798520832*y*t^2*u^9-138041569818689543760133892416849267683191937957318286093257631744*y*t*u^10-5389739284642779681937432854561963305739491457037101187086867456*y*u^11+40521970841232364373178731664154285357082880202287206133442167345*z*w*t^10+55671807898812566501130734812678871894758727058195062152622840688*z*w*t^9*u-109427520613735775313510773631972235539989439920761907906718553554*z*w*t^8*u^2-65004826665516048319797332107065571243853702682219990406387069248*z*w*t^7*u^3-249840366410631590789732248327376875128094131982315633250956568112*z*w*t^6*u^4-72845580224958467208541711862346358930175214143964373782507855168*z*w*t^5*u^5+57338186256443484233285852462014627877702407046916792596883283392*z*w*t^4*u^6+31372577818156159304824991623104265534650397061310720726756439296*z*w*t^3*u^7+36683100952558568073087089359442831577159569995179826530291246336*z*w*t^2*u^8-50109025353807873548734165767853240733843558808437373215024782848*z*w*t*u^9+3365723150587420210849784342647304861472226918731938635629132288*z*w*u^10+22984668882072446439468989731609318922178714923307174005247832235*z*t^11+69013128969897372206850043321303385291849557154826832131016429464*z*t^10*u+24599846627317933214922011986834466040842325461491074542406711776*z*t^9*u^2-147305170910233389529169644415640240295615702146705261083601207728*z*t^8*u^3-212072092014707141530766773051307560232625660860658767085219698624*z*t^7*u^4-317761868036744455667777620102568500538278145534134374451203870016*z*t^6*u^5+95911699627715544078781763909985882569200994293813976322831627968*z*t^5*u^6+237770301066797502385087823459072268903434496893917477535356292160*z*t^4*u^7+87318076066455223316132771709335744550567566749781416860245249024*z*t^3*u^8-90373160038667119546872480404973059182890121223137881861929811968*z*t^2*u^9-129638534814988875578835945040158456536588078676556241190073275904*z*t*u^10+17317412313654747823158107310766666001863598931037512368654911488*z*u^11-1331078384782418526903003709067702705786801431733015746481138400*w^3*t^9+1877234650427590284297760528003088854166919255238207063391222040*w^3*t^8*u+14707964082043251341032112840052728828695626276529811248399573440*w^3*t^7*u^2+16347586585254422059893603298629361060004140444313871120805913280*w^3*t^6*u^3+30205762097615787964367744505041515660156773183407806132953740160*w^3*t^5*u^4+25132131590424186573881174433665071592260053251047103408791710720*w^3*t^4*u^5+34126415790852386440899349325170588481557370949515066794142069760*w^3*t^3*u^6+11769911067190744930257926570430461461581273896439161742697390080*w^3*t^2*u^7-11938958238195403767930585440649615120033461740008109876945259520*w^3*t*u^8-9565694433717458439933430025035573978971550960235086402083655680*w^3*u^9-28074503432668951195662798524677921474257940304540557788273964505*w^2*t^10-57240663947533230909314623098783401417740470018715380438899056452*w^2*t^9*u+28182535250672860029215241137951557689462685472551747317428193706*w^2*t^8*u^2-39110039430860193792321869356968523642501534038525666090334023328*w^2*t^7*u^3+75790741960060259208259322081320681438360673628802597148921847728*w^2*t^6*u^4-85304164502451162113653369990608461657198009157654184729548265088*w^2*t^5*u^5-228433502378503179194426545051458393918498546044647232806453976768*w^2*t^4*u^6-151662225407085203317657306215942790930775257655162450418634569984*w^2*t^3*u^7-38342750319352525853979276489575958765195431875886399988265497344*w^2*t^2*u^8+69409357169894894505571049136531452797430434964680929336624184832*w^2*t*u^9+22466436352838794395749398093767683569500953711665596087603301888*w^2*u^10-8194118895026356047440033414794837173697517219928679874824385240*w*t^11-39486731749938983089796728939235563634171305410148902555456348316*w*t^10*u-36602127891903152910734786241642273341184018174551098881753546770*w*t^9*u^2-24395862086948258553217240346417988732825593326768327918758373670*w*t^8*u^3-118668892922857661031319666812666649193204647991055417904619115408*w*t^7*u^4-139623150867453612401895052356390970272768299203405834440856976512*w*t^6*u^5-393458429630691435978022498916313787363096886681381992792156593696*w*t^5*u^6-455574954026899043097464322686467881231362255406694942166735809984*w*t^4*u^7-215466020605356611339889839107528117660417077365579624556785036288*w*t^3*u^8+100072773774322018810306568294642779858733452635589398728395709440*w*t^2*u^9+177183036845626457815700503790819782055581681919008073120132667392*w*t*u^10+31843703711296284746853416067205676309146710475340539200136773632*w*u^11-5541552628896992051551919626091959894800100181607924997634563710*t^12-16626518680427889028244635920458930802224044770336941561232061869*t^11*u-1268245930149516537434533891653369822728375651080827027687127902*t^10*u^2+22755325661685233420390774852327944864042065428634124737357647688*t^9*u^3-95117922553662635086540926120751349589382666240976863764790074096*t^8*u^4-172348741977110771100219181342935509305000952555707823443892735952*t^7*u^5-522882081011969453762284816141019277057587147597845524408102546240*t^6*u^6-545600612644623616351015809655221689083043286859303740455237429376*t^5*u^7-335587775137171033023715796353539663743328523480415322783773694528*t^4*u^8+18449890452400875453160303255923190796811586875244455745555480320*t^3*u^9+214173009956669654323181295341635312233686314957906231688602174464*t^2*u^10+115830061219700453441197502257406713332115622209605464552257319424*t*u^11+822366550549700711920843544242313239782548090991960250375222272*u^12, 6217315714331370494937580186731920389076018248047814496679169138055*x*w*t^10+5408024141516034031934000788557278846932516708160745639785310775872*x*w*t^9*u+4139984087025379793492831869127765250099063663432878116092809908214*x*w*t^8*u^2-1935645563291451887561052566539571747246023100295952465572951384272*x*w*t^7*u^3-27301396339002804666408402293202776670899824043789578508507172186188*x*w*t^6*u^4+49137443555158632594390359322030346350409916579867818572701962397708*x*w*t^5*u^5-69899119714765195925860925711930309853762353589121536505636917375352*x*w*t^4*u^6+21045625894918025069374437870912687056385390726986382027207478230024*x*w*t^3*u^7+36188169656723079906468664879241795317129278732542124489026787961184*x*w*t^2*u^8-33224664587987397652347506874887020216975468811052661022771673779072*x*w*t*u^9+1533793018913747753654830567852961053503741415902496877096746429472*x*w*u^10+12629385220205812667983605764918986384327074088452453121654420481705*x*t^11+37121337827151855590389661261947595974441270594095615896996555953852*x*t^10*u+34819897647164224626149194326787855261637028292834889060640156075692*x*t^9*u^2+18647257684945342612087589016676402764165678674270853241238869558124*x*t^8*u^3-17199087676164226063587090594643149681922248866977531964142535021236*x*t^7*u^4-18728059706730464544724689611756298484840877248656024482156078251964*x*t^6*u^5+23284269697843848314682591729124464073117949585950834219662786937320*x*t^5*u^6-72782179802831941875077616567831121682576257889880076743137847473024*x*t^4*u^7+40346516543346261327562323840187706839074631159753924026774482181920*x*t^3*u^8+99401944271610444564089530876945058182397102872790982832917260913584*x*t^2*u^9-68916981700120482240831902804911381787303726699637396875281432140896*x*t*u^10-2622708766950545014382597966779103577171919464894689470083982376192*x*u^11-10685445595312309406384558401067444144345397560737762822677482102195*y*w*t^10-24528233921376194919971708751130624813977722318804311377670831898178*y*w*t^9*u-22089467458271183749609694770635957496603344655862089274596224320666*y*w*t^8*u^2-8272155928510334905889823415587858087033614037326203922023787704852*y*w*t^7*u^3+22549705729396342900025036602487619595985510945280589457318974511252*y*w*t^6*u^4-50138883784294395043472031929741079217380568916406554149456708112612*y*w*t^5*u^5+118211371897712532047079220869079537323700366754826129153060396824008*y*w*t^4*u^6-47609768900000814801056500520150973210946754723371346378740589289096*y*w*t^3*u^7-27982868931366626916718452222667403394074520777451720575807272257376*y*w*t^2*u^8+57229688742853182284342917264176219604931955330570274207843799646368*y*w*t*u^9-13638926044034894852497713367180224419209992995317172245030962596768*y*w*u^10+6201800554526518765317624166953249592859019180891886422297681227275*y*t^11+27338978900764992156652048913909894066392213584260089116052623117495*y*t^10*u+30135533774685115390289307480303358798776558237178107840512177693254*y*t^9*u^2+18253608027184867180285995111641163870570229401413952890864210809028*y*t^8*u^3-34755775190054390081026217212310912365423853316081651120923665032184*y*t^7*u^4+1612626881443241820360569778400093216879099786317274719365676012364*y*t^6*u^5-57826647718612309751993529177576036934313947304377046919722991423344*y*t^5*u^6-37437697693405723406518212879134219848600017092493047925787772637264*y*t^4*u^7+26960759212475011021735710801966897171014951405442161905454169759328*y*t^3*u^8-8116222683531149737247206657087861698786687438019455745228120829872*y*t^2*u^9+30048196212065215146574372009534830551052159400062745947860838316576*y*t*u^10-16733751690941219035220174297935918470743390110264352177482618464096*y*u^11+16661134807894147905539339383087063002702662401934107922051860400295*z*w*t^10+34144569856132727206931021128356849083270163833015809463353321347918*z*w*t^9*u+11873231676927673217058496073844915741038411563680419204574961538346*z*w*t^8*u^2+12545266116758996396716261210254138221158899678941075380216265773812*z*w*t^7*u^3-43772359200209506217120848819372102655263952763063608921351879232312*z*w*t^6*u^4-53817018911667425711826429125640367616794616941902801393755589468828*z*w*t^5*u^5+24852322817576846764597891925510042151002267266206963824950315687752*z*w*t^4*u^6-129928316416364322842388662101701083057208483203601684347880618891024*z*w*t^3*u^7+101303853680358561164184153815664333837830458479395433480926813995056*z*w*t^2*u^8-8747103386080002911859737058847965955599363291493765367976210070608*z*w*t*u^9-11296761287798113668507497443971872187495524001220009858120408852992*z*w*u^10+8361731241400095116650853740429163330858776560776387014802412383710*z*t^11+33500045305803590820470248968789297507330051089630745744829284394404*z*t^10*u+40397362141160306543893831170499052389700606895937990180324767873106*z*t^9*u^2+22468626676701577500806800012577187178577793416990745717067331049902*z*t^8*u^3-48897211996598563279139909659523810824414633765103527888502519935564*z*t^7*u^4-61191066831718456041553717890195563542099821544646743916460662765396*z*t^6*u^5-71698758235042729116873494342867566084480690872148291589682392705312*z*t^5*u^6-107969946271410592317295806804287270304857174782143580760023916225040*z*t^4*u^7-18064205328831187275914034596847763818751040500990763946779785981136*z*t^3*u^8+55681194044919897250227618409246816126391610803367370887160783682672*z*t^2*u^9-11625625830785053885937529427856520445107320962915067855356522870304*z*t*u^10-12345900105691499413255783862525068099315058344068835122887212005792*z*u^11-657931327367411105450275246389161792373329657478653006787889022400*w^3*t^9-1040013732320866696017487253143067458518893978192970561490622370810*w^3*t^8*u+586855056125048761963216425142550817533216835280691915614017150540*w^3*t^7*u^2-492379947349045767547777257452629975126018353022439635498610427420*w^3*t^6*u^3-2200180653509111584475611465238217118675168639555262487680943774840*w^3*t^5*u^4+7810290542518103826126635543698291291045505196076070869131435625320*w^3*t^4*u^5-8971737903480806475069408025265218034843085296934749512025210719440*w^3*t^3*u^6+5019852250579375358593230914078347148054934914599663443179722392480*w^3*t^2*u^7+960921978305076843525958252515285012306424132599046891850708782080*w^3*t*u^8-1399894626152045090206086053313746539259771989670560317095794934880*w^3*u^9-11690507747721723867271263125923639026269671086889189721122385919430*w^2*t^10-24152875891648750156691142727669378174396390453317071715004189771122*w^2*t^9*u-12912190948495829990192439181643013436366857152604478577492350798744*w^2*t^8*u^2-13107357248906764482206983053445158899246285152520464593113430786068*w^2*t^7*u^3+47138669509462476721769908814900452720111887893815995678825567445528*w^2*t^6*u^4-818472624582198029806383529542673656283214655365280310542197714848*w^2*t^5*u^5+18629433802114426476804253571630729067270177717819884581306355153792*w^2*t^4*u^6+93536277377845480329341883431448513380473432582959439582138749967296*w^2*t^3*u^7-105358865454043874610970901087342871854056939245453489233621823440224*w^2*t^2*u^8+28252156017398184553915324023288063043329734347296069470029531478272*w^2*t*u^9+7886382287972585669818825837275140266623582982617220214566326900608*w^2*u^10-3579530103883381473905020325831575074320037884788013848997479926640*w*t^11-17046172082714990796262337355676667088355970190358353354092716261301*w*t^10*u-22350500885735744532803080867727401197853859480160898547985947473300*w*t^9*u^2-14412742383225395323898547833541312262270345637992099445863871247490*w*t^8*u^3-1949897978084408815281123670731880816165386730334242941968943937368*w*t^7*u^4+56416250940497192218188212946111077287490213453909258711158576616008*w*t^6*u^5-7744940379547357277642531108613789996125334937272850480231262832456*w*t^5*u^6+38582786283969558954685211234900959886630941161460074681866674037296*w*t^4*u^7+79564280554355285525021510056858797865236209189714806234001212242392*w*t^3*u^8-102161040849722066789455068747449382656502091884910249120243272062560*w*t^2*u^9+8049809251687926478392157529978247852809936012245261183280405140912*w*t*u^10+16641052208267941621684631894268926780329559576166652946088138423712*w*u^11-1856677566417496221098590515056482674301613827104067845991745519310*t^12-7346181707161556265740056050988170884935902342113335613438062264734*t^11*u-2080529496926679034413769470471100466661721142450082615118452811767*t^10*u^2+6909639604685352579731072671111617291132752034167838189354098554728*t^9*u^3+21910464193981985736196111029166109799262493310307536646765450562274*t^8*u^4+14225251712029911074463125832049350640330744873285252848812180417868*t^7*u^5-3965405840956440422493862747608284596440772090514673744500167833840*t^6*u^6+23754053481839267260308548303326237431425883406465004560526327307864*t^5*u^7-30932708934629995281631095176836832864012312922383725551240572847888*t^4*u^8-33676206557620126704372169148889010853539811153221861882640110362240*t^3*u^9+26945098051033604609373625285598065848894339685856192633831964927264*t^2*u^10-24614595395771906635028781068072764332736508844683668684672033990176*t*u^11+7239264623224589712545768296147995803512788759974534256156741533952*u^12];
P1<s1,s2> := ProjectiveSpace(Rationals(),1);
C := Curve(P5, Xlmfdb);
jmap := map<C -> P1 | [jeqns[1]*2^6*3^8, jeqns[2]]>;

b, m := IsIsomorphic(X, C);
pts := PointSearch(X,100);
print jmap(m(pts[1])); //0
print jmap(m(pts[2])); //0
print jmap(m(pts[3])); //-92515041526500


//check j map fiber

// fib_over_j := (P1![-92515041526500,1])@@jmap;
// assert #RationalPoints(fib_over_j) eq 1; //long time, or, below you can see that the fiber over 0 contains all rational points, including 3 rational points and a cubic point

//now we need to create the j-map for X
//we do this by isomorphism to the equation in the LMFDB

//now compute preimage of 0 (the only rational point on E, so the image of all of pts)

fib_0 := (E!0)@@psi;
B := BaseScheme(psi);
fib_0 := Difference(fib_0, B);
comps := IrreducibleComponents(fib_0);
[Degree(c): c in comps]; //3 rational points and a cubic point

//Now create the map to the other elliptic curve.

// F := EllipticCurve([0, 0, 0, -3, 1]);

// psi2_eqns := [
// 567522*w^3*t - 276197*x*w*t^2 - 954653*y*w*t^2 - 1597096*z*w*t^2 + 108324*w^2*t^2 - 5057517*x*t^3 + 872137*y*t^3 - 5281408*z*t^3 - 8612175*w*t^3 + 7191820*t^4 + 769365*w^3*u + 7157575*x*w*t*u - 20287538*y*w*t*u + 1609496*z*w*t*u + 1188303*w^2*t*u - 21405407*x*t^2*u + 13002172*y*t^2*u + 16909290*z*t^2*u - 6610451*w*t^2*u + 13269038*t^3*u - 17689532*x*w*u^2 + 1439797*y*w*u^2 + 14123762*z*w*u^2 + 9518355*w^2*u^2 + 5657221*x*t*u^2 + 15850477*y*t*u^2 - 37346736*z*t*u^2 - 34707935*w*t*u^2 + 15999552*t^2*u^2 + 1004623*x*u^3 - 7853058*y*u^3 + 20324602*z*u^3 + 2405347*w*u^3 + 12728450*t*u^3 - 9095768*u^4,
// -2431464*w^3*t - 14774399*x*w*t^2 + 24972628*y*w*t^2 - 18191617*z*w*t^2 - 8965971*w^2*t^2 + 20699417*x*t^3 - 13243568*y*t^3 - 9752599*z*t^3 + 5103074*w*t^3 - 1051326*t^4 + 3253842*w^3*u - 7523200*x*w*t*u - 42518488*y*w*t*u + 3597528*z*w*t*u - 3080956*w^2*t*u - 21814569*x*t^2*u + 11231944*y*t^2*u + 47238391*z*t^2*u - 5880873*w*t^2*u + 31158845*t^3*u - 22917669*x*w*u^2 + 4511244*y*w*u^2 + 17462077*z*w*u^2 + 20492503*w^2*u^2 + 7997227*x*t*u^2 + 25756040*y*t*u^2 - 53688101*z*t*u^2 - 54123806*w*t*u^2 + 11262759*t^2*u^2 - 1477611*x*u^3 - 10607584*y*u^3 + 31775333*z*u^3 + 2579001*w*u^3 + 22094607*t*u^3 - 13086629*u^4,
// -95202*w^3*t - 2917338*x*w*t^2 + 167709*y*w*t^2 + 3760851*z*w*t^2 + 2018403*w^2*t^2 + 4350612*x*t^3 + 370125*y*t^3 - 8250709*z*t^3 - 6750049*w*t^3 + 5005678*t^4 + 549687*w^3*u + 4218651*x*w*t*u - 2675058*y*w*t*u - 2275228*z*w*t*u - 318025*w^2*t*u - 1195524*x*t^2*u + 3957600*y*t^2*u - 7282913*z*t^2*u - 8146900*w*t^2*u + 12241861*t^3*u - 6499239*x*w*u^2 - 136917*y*w*u^2 + 3132559*z*w*u^2 + 1203436*w^2*u^2 - 3066912*x*t*u^2 + 1192737*y*t*u^2 - 6227343*z*t*u^2 - 9449933*w*t*u^2 + 5263693*t^2*u^2 + 766200*x*u^3 - 1631214*y*u^3 + 4605465*z*u^3 + 704584*w*u^3 + 2768607*t*u^3 - 1954923*u^4
// ];
// psi2 := map<X -> F| psi2_eqns>;
psi2(pts[1]);
//(0 : 1 : 0)
psi2(pts[2]); //LONG TIME... works better in the original, better to load Jeremy and Jacob's code and run this. Otherwise you hang while extending phi
//(0 : 1 : 0)
psi2(pts[3]);
//(3499/729 : -178426/19683 : 1)

